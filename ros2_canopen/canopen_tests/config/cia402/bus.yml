options:
  dcf_path: "@BUS_CONFIG_PATH@"

master:
  node_id: 1
  driver: "ros2_canopen::MasterDriver"
  package: "canopen_master_driver"
  sync_period: 10000

defaults:
  dcf: "cia402_slave.eds"
  driver: "ros2_canopen::Cia402Driver"
  package: "canopen_402_driver"
  period: 10
  revision_number: 0
  scale_pos_to_dev: 1592.35669      #scale_pos_to_dev = 10000 / (2 * pi) = 1592.35669     "10000 is motor resolution"
  scale_pos_from_dev: 0.000628     #scale_pos_from_dev = (2 * pi) / 10000 = 0.000628
  scale_vel_from_dev: 0.00036621093 #scale_vel_to_dev = (10000 * 10) / (2 * pi) = 26075.946   
  scale_vel_to_dev: 2730.66666667   #scale_vel_from_dev = (2 * pi) / (10000 * 10) = 6.28e-5

  tpdo: # TPDO needed statusword, actual velocity, actual position, mode of operation
    1:
      enabled: true
      cob_id: "auto"
      transmission: 0x01
      mapping:
        - {index: 0x6041, sub_index: 0} # status word
        - {index: 0x6061, sub_index: 0} # mode of operation display--------
    2:
      enabled: true
      cob_id: "auto"
      transmission: 0x01
      mapping:
        - {index: 0x6064, sub_index: 0} # position actual value-----------
        - {index: 0x606c, sub_index: 0} # Real speed (rpm)
  rpdo: # RPDO needed controlword, target position, target velocity, mode of operation
    1:
      enabled: true
      cob_id: "auto"
      mapping:
      - {index: 0x6040, sub_index: 0} # controlword
      - {index: 0x6060, sub_index: 0} # mode of operation
    2:
      enabled: true
      cob_id: "auto"
      mapping:
      - {index: 0x607A, sub_index: 0} # target position
      - {index: 0x60FF, sub_index: 0} # target velocity

nodes:
  cia402_device_1:
    node_id: 2
